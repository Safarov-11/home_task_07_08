# –ó–∞–¥–∞–Ω–∏–µ: –ü—Ä–æ—Å—Ç–æ–π CRUD —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º .NET Core –∏ Dapper ORM

## üìå –¶–µ–ª—å
–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ CRUD-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ .NET Core, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–µ ORM-–±–∏–±–ª–∏–æ—Ç–µ–∫—É Dapper. –ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **—á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**. –ö–æ–Ω—Ç–µ–∫—Å—Ç Dapper —Å–ª–µ–¥—É–µ—Ç –≤–∑—è—Ç—å –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è: [DapperContext](https://github.com/softclub-csharp/DapperContext)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

1. **Console-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (–æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—É—Å–∫)
2. **Class Library** (Domain, Infrastructure, Application –∏ —Ç.–¥.)
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É **Dapper** —á–µ—Ä–µ–∑ NuGet
4. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç [DapperContext](https://github.com/softclub-csharp/DapperContext)

---

## üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, —Å–æ–¥–µ—Ä–∂–∞—â—É—é 4 —Ç–∞–±–ª–∏—Ü—ã: `Users`, `Markets`, `Products`, `Category` —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —Å–≤—è–∑—è–º–∏ –º–µ–∂–¥—É –Ω–∏–º–∏.

### üìä –°—Ö–µ–º—ã —Ç–∞–±–ª–∏—Ü:

#### –¢–∞–±–ª–∏—Ü–∞: `Users`

| –ü–æ–ª–µ       | –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö      | –û–ø–∏—Å–∞–Ω–∏–µ              |
|------------|------------------|------------------------|
| Id         | int (PK, Identity) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| FullName   | nvarchar(100)     | –ü–æ–ª–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| Email      | nvarchar(100)     | Email –∞–¥—Ä–µ—Å            |
| Phone      | nvarchar(20)      | –¢–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä       |

---

#### –¢–∞–±–ª–∏—Ü–∞: `Markets`

| –ü–æ–ª–µ       | –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö      | –û–ø–∏—Å–∞–Ω–∏–µ                    |
|------------|------------------|------------------------------|
| Id         | int (PK, Identity) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä     |
| Name       | nvarchar(100)     | –ù–∞–∑–≤–∞–Ω–∏–µ —Ä—ã–Ω–∫–∞               |
| Address    | nvarchar(150)     | –ê–¥—Ä–µ—Å                        |

---

#### –¢–∞–±–ª–∏—Ü–∞: `Category`

| –ü–æ–ª–µ       | –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö      | –û–ø–∏—Å–∞–Ω–∏–µ                    |
|------------|------------------|------------------------------|
| Id         | int (PK, Identity) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä     |
| Name       | nvarchar(100)     | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏           |

---

#### –¢–∞–±–ª–∏—Ü–∞: `Products`

| –ü–æ–ª–µ       | –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö      | –û–ø–∏—Å–∞–Ω–∏–µ                              |
|------------|------------------|----------------------------------------|
| Id         | int (PK, Identity) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä               |
| Name       | nvarchar(100)     | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞                      |
| Price      | decimal(18,2)     | –¶–µ–Ω–∞                                   |
| CategoryId | int               | –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ —Ç–∞–±–ª–∏—Ü—É Category       |
| MarketId   | int               | –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ —Ç–∞–±–ª–∏—Ü—É Markets        |
| Quantity   | int               | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ                            |

---

## üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è CRUD

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏** (Create, Read, Update, Delete) –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∑ —Ç–∞–±–ª–∏—Ü:

- Users
- Markets
- Products
- Category

–ö–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞:

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Dapper` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π
- –ë—ã—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

---

## üì¶ –ü–∞–∫–µ—Ç—ã NuGet

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ NuGet-–ø–∞–∫–µ—Ç—ã:

```bash
Install-Package Dapper
Install-Package Microsoft.Data.SqlClient

--------------------------------------------------------------------------------

# ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ó–∞–¥–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ —Å Dapper –∏ .NET Core

## üéØ –¶–µ–ª—å

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –Ω–∏–∂–µ, —á—Ç–æ–±—ã —É–≥–ª—É–±–∏—Ç—å –∑–Ω–∞–Ω–∏—è –ø–æ Dapper, .NET Core, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ —Ä–∞–±–æ—Ç–µ —Å –ë–î.

---

### 1. üîç –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏/ –∏–ª–∏ email

–†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ email —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LIKE.

---

### 2. üßº –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

–°–¥–µ–ª–∞–π—Ç–µ –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –Ω–µ–π.

---

### 3. üìú –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ —Ä—ã–Ω–∫–∞–º–∏

–°–¥–µ–ª–∞–π—Ç–µ JOIN-–∑–∞–ø—Ä–æ—Å, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä, –µ–≥–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ —Ä—ã–Ω–æ–∫ –≤ –æ–¥–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ.

---

### 4. üìÜ –ü–æ–ª–µ DateCreated –≤–æ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞—Ç—É —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏.

---

### 5. üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã –ø–æ CategoryId

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ –º–∞—Å—Å–æ–≤–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω –ø–æ CategoryId (–Ω–∞–ø—Ä–∏–º–µ—Ä, +10%).

---

### 6. üßë‚Äçüíº –°–≤—è–∑—å User –∏ Markets

–û–¥–∏–Ω —é–∑–µ—Ä –º–æ–∂–µ—Ç –≤–ª–∞–¥–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä—ã–Ω–∫–∞–º–∏. –î–æ–±–∞–≤—å UserId –≤ Market –∏ –æ—Ç—Ä–∞–∑–∏ —Å–≤—è–∑—å.

---

### 7. üïµÔ∏è‚Äç‚ôÇÔ∏è –°–ø–∏—Å–æ–∫ —é–∑–µ—Ä–æ–≤ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—ã–Ω–∫–æ–≤

JOIN + GROUP BY ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ —é–∑–µ—Ä–æ–≤ –∏ —Å–∫–æ–ª—å–∫–æ —Ä—ã–Ω–∫–æ–≤ —É –∫–∞–∂–¥–æ–≥–æ.

---

### 8. üí∞ –°—É–º–º–∞—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ —Ä—ã–Ω–∫–∞–º

–í—ã—á–∏—Å–ª–∏—Ç–µ —Å—É–º–º—É (—Ü–µ–Ω–∞ \* –∫–æ–ª-–≤–æ) –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ —Ä—ã–Ω–∫–∞–º.

---

### 9. üõÜ –¢–æ–≤–∞—Ä—ã —Å–Ω–∏–∂–µ –º–∏–Ω–∏–º—É–º–∞

–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤, –≥–¥–µ `Quantity < MinQuantity`.

---

### 10. üìâ –ù–∞–π—Ç–∏ —Ä—ã–Ω–æ–∫ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—É–º–º–æ–π —Ç–æ–≤–∞—Ä–æ–≤

GROUP BY + MIN(—Å—É–º–º–∞). –í—ã–≤–µ—Å—Ç–∏ –æ–¥–∏–Ω —Ä—ã–Ω–æ–∫.

---

### 11. üèÜ TOP-3 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ —Ç–æ–≤–∞—Ä–∞–º

TOP 3/–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ + —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ COUNT(\*) –≤ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

---

### 12. üóìÔ∏è –ù–æ–≤—ã–µ —é–∑–µ—Ä—ã –∑–∞ 7 –¥–Ω–µ–π

–§–∏–ª—å—Ç—Ä DateCreated > GETDATE() - 7.

---

### 13. üìä –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

AVG(–¶–µ–Ω–∞) + GROUP BY CategoryId.

---

### 14. üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–ª-–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ —Ä—ã–Ω–∫–∞–º

–í—ã–≤–µ—Å—Ç–∏ MarketName + COUNT(\*) —Ç–æ–≤–∞—Ä–æ–≤.

---

### 15. üìÉ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –∫—Ç–æ –¥–æ–±–∞–≤–∏–ª —Å–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–æ–≤

UserId + COUNT(\*) –ø–æ —Ç–æ–≤–∞—Ä–∞–º.

---